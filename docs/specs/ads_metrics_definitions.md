# Ads Metrics Definitions

> **Owner:** ads agent  
> **Date:** 2025-10-15  
> **Version:** 1.0

## Overview

This document defines all advertising performance metrics used in HotDash.

## Core Metrics

### ROAS (Return on Ad Spend)

**Formula:** `revenue / ad_spend`

**Definition:** The amount of revenue generated for every dollar spent on advertising.

**Example:** ROAS of 4.0 means $4 in revenue for every $1 spent.

**Benchmarks:**
- Excellent: ≥ 5.0x
- Good: 3.0-5.0x
- Average: 2.0-3.0x
- Poor: < 2.0x

### CPC (Cost Per Click)

**Formula:** `ad_spend / clicks`

**Definition:** The average cost paid for each click on an ad.

**Benchmarks by Platform:**
- Meta: $0.50-$2.00
- Google Search: $1.00-$3.00
- TikTok: $0.30-$1.50

### CPM (Cost Per Mille)

**Formula:** `(ad_spend / impressions) * 1000`

**Definition:** The cost to show ads to 1,000 people.

**Benchmarks by Platform:**
- Meta: $5-$15
- Google Display: $10-$20
- TikTok: $3-$10

### CPA (Cost Per Acquisition)

**Formula:** `ad_spend / conversions`

**Definition:** The average cost to acquire one customer or conversion.

**Target:** Should be less than Average Order Value (AOV)

### CTR (Click-Through Rate)

**Formula:** `(clicks / impressions) * 100`

**Definition:** The percentage of people who click after seeing an ad.

**Benchmarks:**
- Excellent: ≥ 3.0%
- Good: 1.5-3.0%
- Average: 0.5-1.5%
- Poor: < 0.5%

### Conversion Rate

**Formula:** `(conversions / clicks) * 100`

**Definition:** The percentage of clicks that result in conversions.

**Benchmarks:**
- Excellent: ≥ 5.0%
- Good: 3.0-5.0%
- Average: 1.0-3.0%
- Poor: < 1.0%

## Advanced Metrics

### Incremental ROAS (iROAS)

**Formula:** `(total_revenue - baseline_revenue) / ad_spend`

**Definition:** The incremental revenue generated by ads compared to baseline.

### Attribution ROAS

**Definition:** ROAS calculated using specific attribution model (last-click, first-click, linear, etc.)

### Budget Pacing

**Formula:** `(percent_spent - percent_elapsed) * 100`

**Definition:** How far ahead or behind budget spend is relative to time elapsed.

## Platform-Specific Metrics

### Meta (Facebook/Instagram)

- **Frequency:** Average number of times each person sees your ad
- **Relevance Score:** 1-10 rating of ad quality
- **Cost Per Result:** Cost per desired action

### Google Ads

- **Quality Score:** 1-10 rating affecting ad rank and CPC
- **Impression Share:** % of possible impressions received
- **Search Lost IS (Budget):** % of impressions lost due to budget

### TikTok

- **Video Views:** Number of video ad views
- **Average Watch Time:** Average time users watch video
- **Engagement Rate:** Likes, comments, shares per impression

## Calculation Notes

### Zero-Division Protection

All calculations return 0 when denominator is 0 or negative:
- `calculateRoas(1000, 0)` → `0`
- `calculateCpc(100, 0)` → `0`

### Precision

- Currency values: 2 decimal places
- Percentages: 2 decimal places
- ROAS: 2 decimal places

### Aggregation

When aggregating across campaigns:
- Sum all spend, revenue, impressions, clicks, conversions
- Calculate metrics from aggregated totals
- Do NOT average the metrics directly

**Correct:**
```typescript
const totalRevenue = campaigns.reduce((sum, c) => sum + c.revenue, 0);
const totalSpend = campaigns.reduce((sum, c) => sum + c.adSpend, 0);
const aggregatedRoas = totalRevenue / totalSpend;
```

**Incorrect:**
```typescript
const avgRoas = campaigns.reduce((sum, c) => sum + c.roas, 0) / campaigns.length;
```

## Data Sources

- **Meta:** Meta Ads API
- **Google:** Google Ads API
- **TikTok:** TikTok Marketing API
- **Shopify:** Order data for revenue attribution

## Update Frequency

- **Real-time:** Dashboard displays
- **Hourly:** API data refresh
- **Daily:** Aggregation jobs
- **Weekly:** Trend analysis

## Related Documentation

- `docs/specs/ads_tracking.md` - Implementation details
- `app/lib/ads/tracking.ts` - Calculation functions
- `app/lib/ads/roas.ts` - Advanced ROAS calculations

