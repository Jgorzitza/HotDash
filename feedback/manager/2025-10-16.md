# Manager Coordination Note — Daily Approvals Loop and Archive Restore Plan (2025-10-16)

Status: ACTIVE
Owner: manager
Related: docs/directions/*, reports/audits/2025-10-15-*.md, docs/_archive/2025-10-15-prebundle/**

---

## A) Archive Restore Plan (Manager-only)
- Source of truth: docs/_archive/2025-10-15-prebundle/**
- Scope to restore first (manager action; agents DO NOT use git):
  1) app/components/approvals/** (drawer scaffold, tiles contracts)
  2) app/routes/dashboard.*
  3) app/lib/supabase/client.ts; app/lib/errors.ts; app/middleware/{audit,rate-limit}.ts
  4) supabase/migrations for approvals/audit baseline
  5) app/agents/** scaffolds (sdk, customer, ceo)
- Process:
  - Copy forward exact files from archive to working tree; open PR with Allowed paths and DoD
  - PR must include: evidence (screens/logs), rollback plan (revert path), and link to corresponding direction file section
  - No secrets in code; use envs only

## B) Daily Approvals Loop (Approved)
Cadence: Daily, 15 minutes, blockers-first.
Participants: Engineer, Data, Integrations, AI-Customer, QA, Support, Product (optional: Designer, Analytics, SEO, Ads, Inventory, DevOps)

Agenda:
1) Blockers sweep (max 1 minute per agent)
2) Approvals queue review (is Approve disabled until /validate OK?)
3) Evidence & rollback present for items moving to Pending Review
4) Ownership & next actions; record in feedback files

Rules:
- Approve button stays disabled until: Evidence present + Rollback documented + /validate returns OK
- Agents do not use git; signal “WORK COMPLETE — READY FOR PR” in feedback
- Move strictly top-down through task lists; after 10 minutes blocked, log it and go next

Metrics:
- Median approval time ≤ 15 min
- Grades: tone ≥ 4.5, accuracy ≥ 4.7, policy ≥ 4.8
- P95 tile load < 3s; RPC P95 < 100ms (Data), client calls P95 < 500ms (Integrations)

## C) Direction Fix — Alignment with NORTH_STAR
- All direction files updated with blocker-first sections and Phase 2 NORTH_STAR tasks (22 per key team)
- Artifact restoration will be performed from archive by manager; agents validate and continue
- HITL enforced for ai-customer; approvals validation enforced in UI; governance via Danger/Docs Policy

## D) Today’s Top Unblockers (Manager commits to restore from archive)
- Approvals Drawer shell + fixtures + dashboard route
- Supabase client + errors + audit/rate-limit middleware
- Approvals/audit migrations and seeds
- AI-Customer SDK + agent scaffolds

## E) Assignments (from updated directions)
- Engineer: Approvals UI, tiles, validation, a11y, tests
- Data: approvals/audit schema + RPCs + rollbacks + perf
- Integrations: clients/middleware/health + contracts + tests
- AI-Customer: SDK/HITL/tools/tests + telemetry
- QA: failing tests to drive unblockers + approvals loop gating
- Support: RAG safety guard + MCP fallback + tests
- Product: acceptance/docs/governance alignment
- Designer: approvals/tile specs + a11y
- DevOps: governance workflows + safety + SLOs
- Analytics/SEO/Ads/Inventory/AI-Knowledge: loaders/metrics/services to feed tiles + agents

## F) Evidence Log (to append during standup)
- [ ] Archive PR # (Approvals UI)
- [ ] Archive PR # (Supabase client/middleware)
- [ ] Archive PR # (Approvals/audit migrations)
- [ ] Archive PR # (AI-Customer scaffolds)
- [ ] /validate demo OK screenshot

## G) Risks & Mitigations
- Risk: Archive drift vs current code → Mitigation: QA snapshot tests and diffs reviewed in PR
- Risk: Hidden secrets in archive → Mitigation: Gitleaks and secret scanning on PR; manual review
- Risk: Performance regressions → Mitigation: P95 checks; add telemetry early

## H) Next Checkpoint
- Standup tomorrow: verify approvals loop executing; measure approval latency; confirm archive PRs merged



---

# CEO Summary — 2025-10-16

Status: Shutdown complete; clean startup enabled for 2025-10-17

1) Outcomes
- Directions cleaned for all agents; 10/16 objectives archived under docs/_archive/directions/*-2025-10-16.md
- Tomorrow’s Objectives added with scoped Allowed paths and initial tasks
- Router import/Response.json cleanup done; typecheck noise reduced

2) Guardrails receipts
- Docs Policy: OK (node scripts/policy/check-docs.mjs)
- AI Config: OK (node scripts/policy/check-ai-config.mjs)
- Gitleaks: OK after allowlisting 5 archived false-positives by fingerprint (.gitleaks.toml). Re-scan: no leaks

3) Key risks
- Some typed loader/agent surfaces still need tightening tomorrow
- Archived prebundle docs had patterns flagged; now allowlisted by exact fingerprint (no live secrets)

4) Tomorrow plan highlights
- Engineer: tile wiring, loader return types, a11y polish
- Integrations: clients/middleware PRs + tests; health fan-out
- Data: approvals/audit reversible migrations + RPCs + RLS tests + timings
- QA: flip failing unblockers to passing; enforce /validate gating
- DevOps: guardrails validation + Danger notes + staging smoke plan
- Others (SEO/Content/Support/Ads/Analytics/Inventory/AI-Knowledge): execute per new Tomorrow sections
- Manager: run startup checklist; seed Issues (DoD + Allowed paths)

5) Evidence
- Archives: docs/_archive/directions/
- Live directions: docs/directions/*.md
- Gitleaks config: .gitleaks.toml

WORK COMPLETE — READY FOR STARTUP (2025-10-17)
- Directions: ✓  Archives: ✓  Guardrails: ✓  Plans: ✓

---

## Midday Update — RAG Pipeline Stabilization (22:45)
- Converted PRs #28, 31–33, 35, 37, 38 to **Draft** so nothing merges while lint/tests are red.
- Restored `scripts/ai/llama-workflow/` scaffold (package.json, tsconfig, CLI) and rehydrated `packages/memory/indexes/operator_knowledge/` from `artifacts/llama-index/operator_knowledge/`.
- CLI smoke test: `node scripts/ai/llama-workflow/dist/cli.js query -q "shipping policy"` returns top docs; ready for MCP handlers.
- Fixed KB search mocks (`app/lib/knowledge/search.ts`) and date parsing util; `npm run test:unit` now **passes** (282 tests green).
- Registered LlamaIndex MCP in `mcp/mcp-config.json`, `mcp/SERVER_STATUS.md`, and README (7 servers total, endpoint https://hotdash-llamaindex-mcp.fly.dev/mcp).
- Supabase migrations **not applied yet** – `supabase migration list` still requires `supabase link`. Leave for tomorrow’s staging pass.
